# 3주차 블루프린트를 활용한 움직이는 장치 제작

[![Video Label](http://img.youtube.com/vi/5t_bfpyk18c/0.jpg)](https://youtu.be/5t_bfpyk18c?t=3315)

## 레벨 불러오기 & 기본 설정

1~2주차 동안 4가지 액터로 구성된 목표지점을 만들어왔었다.

이처럼 스테이지를 만들 때마다 목표지점을 만들기 위해 4가지 액터를 만들고 세팅하는 작업을 반복하게 되면 상당히 번거롭고 관리도 어려워진다.

이런 문제점을 해결하기 위해서 언리얼 엔진은 블루프린트를 제공한다.

블루프린트를 사용하게 되면 단순 반복 기능을 효율적으로 관리할 수 있고, 비주얼 스크립팅(프로그래밍을 잘 모르더라도 노드 기반으로 프로그래밍 할 수 있도록 구성) 기능을 제공하고 있다.

## 블루프린트 - 소개

1. 다양한 기능을 가지고 있는 액터들을 하나의 액터로 효과적으로 관리할 수 있다.
2. 스스로 움직이는 액터를 스크립팅이라는 시스템으로 프로그래밍을 모르더라도 스스로 알고리즘을 만들어서 제어할 수 있다.

풀 블루프린트 에디터 열기 (창을 다시 열 경우 사용)

핵심 영역은 컴포넌트 영역이다.

컴포넌트를 통해서 블루프린트의 다양한 기능을 추가할 수 있다.

언리얼 엔진이 많은 기능들을 제공하는데, 컴포넌트라는 단위를 통해서 제공한다고 봐도 무방하다. (초심자 기준)

## 블루프린트 - 목표 지점 엑터 만들기

디테일 창 태그 검색 → 액터에 태그 추가

액터를 대표하는 태그를 걸어주는 작업들이 액터 설정에서 진행한다고 보면된다.

실제 블루프린트의 구조는 컴포넌트 계층의 두 번째부터 시작한다. 이를 대표 컴포넌트인 루트 컴포넌트라고 한다.

지금까지 배경에 사용했던 스테틱 메시 엑터는 스테틱 매시 컴포넌트를 루트로 갖고있던 액터에 불과하다. 즉, 스테틱 메시 에셋(모델링)이 플레이어에게 장애물 역할을 했던 것은 스테틱 메시 컴포넌트가 제공하는 기능이기 때문이다. 액터는 이런 기능들을 둘러싸서 포장해주는 단순한 규격일 뿐이다. (실제 기능은 컴포넌트가 제공한다.)

따라서 목표 지점의 바닥 모델링에 하트와 화살표를 추가하려면 액터가 필요한 것이 아니라 스테틱 메시 컴포넌트가 필요하다.

## 움직이는 장치 만들기 - 이동플랫폼 액터 제작

버텍스 스내핑 : V + 마우스 왼쪽 버튼 드래그

블루프린트 모빌리티 → 무버블로 지정. (스테틱으로 움직이게끔 만들면 에러 메시지가 많이 표시됨. 주의)

움직이는 방향을 표시하기 위해 보조 컴포넌트 추가 : 화살표 컴포넌트

게임 제작 시 화살표가 계속 표시되지 않고 에디터 레벨 제작 편의를 위해서만 제공되며 빌드 시에는 사라진다. 단, 화살표의 트랜스폼 정보는 남아있어서 로직은 안전히 활용할 수 있다.

## 움직이는 장치 만들기 - 비주얼 스크립팅

비주얼 스크립팅은 블루프린트 창의 이벤트그래프에서 진행 가능.

**이벤트**(어떤 사건이 발생한 시작점), 명령 노드 등을 통칭해서 노드라고 부른다.

시간에 따라 액터가 움직일 수 있으려면, 값이 변해야 하므로 타임라인 컴포넌트를 사용한다.

**블루프린트 실행선 제거** : ALT + 마우스 왼쪽 버튼 클릭

키 프레임 : 특정 시간에 대한 데이터 흐름을 설계할 수 있다. 특정 시간의 값을 지정해주면 시간 사이의 값을 언리얼 엔진이 자동적으로 해당 변곡 지점의 값들을 부드럽게 이어준다.

**이동 그래프에서 그래프 확대 / 축소** : 마우스 휠 드래그

**이동 그래프에서 타임라인 시점 변경** : 마우스 오른쪽 버튼 드래그

**이동 그래프에서 키 추가** : SHIFT + 마우스 왼쪽 버튼 클릭

**이동 그래프에서 키 삭제** : 키 선택 후 DELETE

**노드 드래그 후 곱하기 연산자 추가** : SHIFT + 8

**노드 드래그 후 더하기 연산자 추가** : SHIFT + =

**연결 가능한 노드 검색창 열기** : 출력 핀에서 마우스 왼쪽 버튼 드래그