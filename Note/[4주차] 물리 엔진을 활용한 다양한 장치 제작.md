# 4주차 물리 엔진을 활용한 다양한 장치 제작

[![Video Label](http://img.youtube.com/vi/t78cg-kNHXM/0.jpg)](https://youtu.be/t78cg-kNHXM?t=3609)

## 텔레포트 장치 만들기

게임을 개발하다보면 사람이 하는 일이다보니 액터를 무조건 지정해야함에도 깜빡하고 액터를 지정하지 않는 일이 발생한다.

이런 실수들이 일어나게 되면 액터들이 적은 상태에선 금방 파악이 가능하지만 정말 많아지게 되면 탐지하기가 어려워진다. 실수를 미연에 방지하기 위해 방어 스크립트 코드를 심어두는 것이 좋다.

출력판에서 드래그 후 블루프린트 노드 검색

is Valid ⇒ 해당 속성이 유효한지 체크

Print String  ⇒ 게임 상에 로그가 표시되도록 함

SetGamePaused ⇒ 게임을 멈추는 명령어

![스포이드 아이콘 사용하여 액터 지정 가능](https://user-images.githubusercontent.com/26589915/196183919-b47c9871-4332-4211-9534-9c982515869e.png)

스포이드 아이콘 사용하여 액터 지정 가능

텔레포트(Teleport) ⇒ 텔레포트 기능 구현 (타깃 지정)

Get Actor Transform ⇒ 위치, 회전, 크기. Transform 정보를 가져오는 속성. 구조체 핀 분할로 데이터를 분할할 수 있다.

이펙트 추가 (= 컴포넌트 추가)

나이아가라 시스템 검색.

Overlap 이벤트 (트리거 발동 시) 시  활성화(Activate) 명령을 넘겨주면 된다.

노드 우회로 핀 생성 : 마우스 가운데 버튼 더블 클릭.

딜레이(Delay) ⇒ 3초

**BP_ThirdPersonCharater**의 블루프린트 구성

캡슐 컴포넌트 (Root) : 물리적인 역할, 충돌같은 것들을 수행 (충돌)

메시 : 캐릭터의 움직임을 보여주는 역할 (비주얼)

카메라

캐릭터 무브먼트 : 캐릭터의 움직임을 관장 (움직임)

캐릭터 무브먼트는 캐릭터라는 구조를 가지는 액터에만 부착되어있음.

따라서 이를 사용하려면 사용하려는 액터가 ‘캐릭터 형’인지 먼저 알아야 한다.

**플레이어가 움직일 수 없도록 하려면?**

SetMovementMode : None

## 물리 기능으로 낙하하는 발판 만들기

피직스 시뮬레이트 옵션을 활성화해주면 물리엔진에 의해서 스스로 움직이는 물체가 된다.

**블루프린트 내의 렌더링 옵션**

액터 내의 설정에서 게임에서 숨김이 활성화되어있는 경우, 액터가 무조건 안 보이게 된다.

에디터 빌보드 스케일은 액터가 많아지게 되면 레벨 제작 시 번거롭게 되므로 0으로 설정해서 아이콘이 보이지 않도록 설정해주는 것이 좋다.

콜리전 컴포넌트의 게임에서 숨김 옵션을 하게 되면 컴포넌트만 보이지 않게 된다.

## 점프대 만들기

Add Impulse : 충격을 주는 명령어. 캐릭터 무브먼트에 명령을 내려줘야 함.

현재 캐릭터는 캐릭터 무브먼트가 움직임을 통제하고 있기 때문이다.

캐릭터가 아닌 Ragdoll라는 메시의 물리를 통해 조절하는 경우도 있다.

이때는 다른 방식으로 설정해주어야 한다.

## 미사일 함정 만들기

movementComponent → 발사체 이동 컴포넌트

포물선 움직임을 쉽게 만들 수 있다.

맞으면 튕겨져 나가는 옵션 : 바운스 옵션 True

미사일은 이동하는 액터이기 때문에 모빌리티를 스테틱이 아닌 무버블로 설정해야 한다.

(미변경 시 에러 발생)

자동 활성화를 False로 변경해야 처음부터 실행되지 않음.

활성화 (Projectile Movement)